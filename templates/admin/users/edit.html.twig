{% extends "base.html.twig" %}

{% block title %}Редагувати користувача - {{ site_name }}{% endblock %}

{% block content %}
  <section class="auth-section" style="padding-top: 150px; padding-bottom: 150px;">
    <div class="auth-container" style="max-width: 600px;">
      <h2 class="auth-title" style="color: #ff4500;">Редагувати користувача</h2>

      <form method="POST" class="auth-form">
        {% if error %}
          <div class="alert alert-danger">{{ error }}</div>
        {% endif %}

        <div class="mb-3">
          <label for="name" class="form-label">
            <span style="color: #ff4500;">
              <i class="bi bi-person-fill"></i> Ім'я
            </span>
          </label>
          <input 
            type="text" 
            class="form-control" 
            id="name" 
            name="name" 
            required
            placeholder="Ім'я користувача"
            value="{{ user.name|sanitize }}"
          >
        </div>

        <div class="mb-3">
          <label for="email" class="form-label">
            <span style="color: #ff4500;">
              <i class="bi bi-envelope-fill"></i> Email
            </span>
          </label>
          <input 
            type="email" 
            class="form-control" 
            id="email" 
            name="email" 
            required
            placeholder="email@example.com"
            value="{{ user.email|sanitize }}"
          >
        </div>

        <div class="mb-3">
          <label for="password" class="form-label">
            <span style="color: #ff4500;">
              <i class="bi bi-lock-fill"></i> Новий пароль (залиште пустим, щоб не змінювати)
            </span>
          </label>
          <input 
            type="password" 
            class="form-control" 
            id="password" 
            name="password" 
            placeholder="Мінімум 6 символів"
          >
        </div>

        <div class="mb-3">
          <label for="password_confirm" class="form-label">
            <span style="color: #ff4500;">
              <i class="bi bi-lock-fill"></i> Підтвердіть новий пароль
            </span>
          </label>
          <input 
            type="password" 
            class="form-control" 
            id="password_confirm" 
            name="password_confirm" 
            placeholder="Повторіть пароль"
          >
        </div>

        <div class="mb-3">
          <div class="form-check">
            <input 
              type="checkbox" 
              class="form-check-input" 
              id="is_admin" 
              name="is_admin" 
              value="1"
              {% if user.is_admin == 1 %}checked{% endif %}
            >
            <label class="form-check-label" for="is_admin" style="color: #ff4500;">
              <i class="bi bi-shield-fill"></i> Адміністратор
            </label>
          </div>
        </div>

        <button type="submit" class="btn btn-primary w-100">Зберегти зміни</button>
        <a href="/admin/users" class="btn btn-secondary w-100 mt-2">Скасувати</a>
      </form>
    </div>
  </section>

  {% include 'footer.html.twig' %}
{% endblock %}
